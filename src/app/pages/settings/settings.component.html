<div class="layout">

  <!-- SIDEBAR -->
  <div class="sidebar">
    <button
      *ngFor="let motor of motors"
      (click)="selectMotor(motor)"
      [class.active]="selectedMotor === motor">
      {{ motor }}
    </button>
  </div>

  <!-- CONTENT -->
  <div class="content">

    <div class="movement-form" *ngIf="selectedMotor; else placeholder">
      <h2>{{ selectedMotor }} Settings</h2>

      <!-- Velocity -->
      <div class="form-group">
        <label>Velocity</label>
        <mat-slider min="0" max="3000" step="50" thumbLabel
                    [(ngModel)]="motorSettings[selectedMotor].velocity">
        </mat-slider>
        <input type="number" min="0" max="3000" step="50"
               [(ngModel)]="motorSettings[selectedMotor].velocity">
      </div>

      <!-- Acceleration -->
      <div class="form-group">
        <label>Acceleration</label>
        <mat-slider min="0" max="5000" step="50" thumbLabel
                    [(ngModel)]="motorSettings[selectedMotor].acceleration">
        </mat-slider>
        <input type="number" min="0" max="5000" step="50"
               [(ngModel)]="motorSettings[selectedMotor].acceleration">
      </div>

      <!-- Deceleration -->
      <div class="form-group">
        <label>Deceleration</label>
        <mat-slider min="0" max="5000" step="50" thumbLabel
                    [(ngModel)]="motorSettings[selectedMotor].deceleration">
        </mat-slider>
        <input type="number" min="0" max="5000" step="50"
               [(ngModel)]="motorSettings[selectedMotor].deceleration">
      </div>

      <!-- Jog Velocity -->
      <div class="form-group">
        <label>Jog Velocity</label>
        <mat-slider min="0" max="3000" step="50" thumbLabel
                    [(ngModel)]="motorSettings[selectedMotor].jogVelocity">
        </mat-slider>
        <input type="number" min="0" max="3000" step="50"
               [(ngModel)]="motorSettings[selectedMotor].jogVelocity">
      </div>

      <!-- ðŸ”µ MAX SPEED (REAL din B&R) -->
      <div class="form-group">
        <label>Max Speed (REAL)</label>
        <mat-slider min="0" max="200" step="1" thumbLabel
                    [(ngModel)]="motorSettings[selectedMotor].maxSpeed">
        </mat-slider>
        <input type="number" step="0.1"
               [(ngModel)]="motorSettings[selectedMotor].maxSpeed">
      </div>

      <button (click)="updateSettings()">Update Settings</button>
    </div>

    <!-- ðŸ”¹ Buton nou -->
<button (click)="testMotor(selectedMotor)" class="test-button">Test Motor</button>

    <ng-template #placeholder>
      <div class="placeholder">
        Select a motor from the left to configure settings
      </div>
    </ng-template>

  </div>
</div>
